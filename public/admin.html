<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Admin â€“ Prompt Ultime</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>

  <!-- =========================
       INTERFACE ADMIN â€“ PROMPT ULTIME
       Version modulaire, pilotable via API
  ========================== -->

  <header>
    <h1>ğŸ§  Interface Admin â€” Prompt Ultime</h1>
    <p>Maintenance, Ã©volution et introspection IA du projet.</p>
  </header>

  <!-- === MODULE 1 : SCANNER LOCAL & SERVEUR === -->
  <section id="scanner" class="module">
    <h2>1. Scanner fichiers</h2>
    <p>Analyse les fichiers JSON disponibles en local et sur le serveur distant (Render, GitHub...).</p>
    
    <!-- DÃ©clenche une analyse avec rÃ©cupÃ©ration via API -->
    <button onclick="scanFichiers()">ğŸ“¡ Scanner local & distant</button>
    <div id="resultatsScan"></div>
  </section>

  <!-- === MODULE 2 : VÃ‰RIFICATION STRUCTURELLE (AJV) === -->
  <section id="validation" class="module">
    <h2>2. VÃ©rification JSON</h2>
    <p>VÃ©rifie les fichiers avec les schÃ©mas JSON (AJV), dÃ©tecte les erreurs, propose des corrections IA.</p>
    <button onclick="validerTousFichiers()">ğŸ§ª Lancer validation AJV</button>
    <div id="erreursValidation"></div>
  </section>

  <!-- === MODULE 3 : Ã‰DITION JSON INTELLIGENTE === -->
  <section id="editeur" class="module">
    <h2>3. Ã‰diteur de contenu</h2>
    <p>Modifier, rÃ©parer ou enrichir un fichier JSON. Ajoute version automatique. IA disponible.</p>
    
    <input type="file" id="fileInput" />
    <textarea id="jsonEditor" rows="20" cols="80" placeholder="Contenu JSON ici..."></textarea>
    <br />
    <button onclick="enregistrerJson()">ğŸ’¾ Enregistrer & versionner</button>
  </section>

  <!-- === MODULE 4 : SYNCHRONISATION API === -->
  <section id="apiSync" class="module">
    <h2>4. API & Synchronisation</h2>
    <p>GÃ¨re les Ã©changes avec les API : OpenAI, GitHub, Renderâ€¦ (en lecture et Ã©criture).</p>
    <button onclick="envoyerAPI()">ğŸ”„ Envoyer fichier vers API</button>
    <div id="logAPI"></div>
  </section>

  <!-- === MODULE 5 : GESTION DES VERSIONS === -->
  <section id="versions" class="module">
    <h2>5. Historique & sauvegardes</h2>
    <p>Liste et restaure les anciennes versions des fichiers modifiÃ©s.</p>
    <ul id="listeVersions"></ul>
    <button onclick="sauvegarderEtat()">ğŸ“š CrÃ©er un point de restauration</button>
  </section>

  <!-- === MODULE 6 : INGESTION D'UN FICHIER LIBRE === -->
  <section id="analyseLibre" class="module">
    <h2>6. Analyse libre de fichier</h2>
    <p>Scanner, restructurer ou absorber un fichier libre comme IA1.json, mÃªme corrompu.</p>
    <input type="file" onchange="analyserFichierLibre(event)" />
    <div id="resultatAnalyseLibre"></div>
  </section>

  <!-- === MODULE 7 : COMMANDE IA D'ADMINISTRATION === -->
  <section id="pilotageIA" class="module">
    <h2>7. IA de pilotage</h2>
    <p>Lancer des commandes IA pour analyser ou structurer des parties complexes (versioning, mÃ©tadonnÃ©es, tri, fusion...).</p>
    <textarea id="promptIA" rows="5" cols="80" placeholder="Commande Ã  envoyer Ã  l'IA..."></textarea>
    <button onclick="executerCommandeIA()">ğŸ§  Lancer commande IA</button>
    <div id="resultatIA"></div>
  </section>

  <!-- === MODULE 8 : JOURNAL TECHNIQUE === -->
  <section id="journal" class="module">
    <h2>8. Journal technique</h2>
    <p>Historique des actions, erreurs, synchronisations, dialogues API.</p>
    <pre id="journalTechnique"></pre>
  </section>
<!-- === MODULE 9 : Import JSON via script Python === -->
<section id="importJson" class="module">
  <h2>9. Import JSON depuis script Python</h2>
  <p>Lance le script Python `import_json.py` sur le serveur (API backend).</p>
  <button onclick="lancerImportJson()">ğŸ Lancer import JSON</button>
  <pre id="logImportJson"></pre>
</section>
<hr>
<h2>ğŸ“š Module 10 â€“ Historique des Ã©changes IA</h2>
<button onclick="chargerHistoriqueIA()">ğŸ” Charger lâ€™historique IA</button>
<pre id="historiqueIA">ğŸ“­ Aucun historique chargÃ©.</pre>
<!-- === MODULE 11 : Autogestion IA === -->
<section id="autogestion" class="module">
  <h2>11. Autogestion IA</h2>
  <p>DÃ©clenche un enchaÃ®nement intelligent (scan, validation, sauvegarde), prÃªt Ã  Ã©voluer avec des rÃ©parations automatiques.</p>
  <button onclick="executerAutogestion('valider')">ğŸ› ï¸ Valider tous les fichiers</button>
  <button onclick="executerAutogestion('rÃ©parer')">ğŸ©º RÃ©parer (future IA)</button>
  <pre id="journalAutogestion">ğŸ“­ Aucune opÃ©ration lancÃ©e.</pre>
</section>

suite
  <!-- Scripts -->
  <script src="admin.js"></script>
</body>
</html>

